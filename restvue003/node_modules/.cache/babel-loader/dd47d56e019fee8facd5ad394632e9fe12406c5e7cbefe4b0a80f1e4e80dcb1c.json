{"ast":null,"code":"import { ElMessageBox } from 'element-plus';\nimport CryptoJS from 'crypto-js';\nimport axios from 'axios';\nexport default {\n  name: 'LogLn',\n  data() {\n    return {\n      Uses: \"\",\n      Password: ''\n    };\n  },\n  methods: {\n    LogIn() {\n      // 时间戳\n      const timestamp = Date.now() + '111'.toString();\n      const UsesCheck = /^[A-Za-z0-9_]{6,12}$/;\n      const passwordCheck = /^(?=.*[A-Z])(?=.*[a-z])(?=.*\\d)(?=.*[@$!%*?&.])[A-Za-z\\d@$!%*?&.]{8,}$/;\n      if (this.Uses == '' && this.Password == '') {\n        ElMessageBox.alert(\"用户名和密码不能为空\", '为空检测', {\n          showConfirmButton: true,\n          confirmButtonText: '确认'\n        }).catch(() => {\n          this.Uses = '';\n          this.Password = '';\n        });\n        return 0;\n      }\n      if (this.Uses.match(UsesCheck) == null) {\n        ElMessageBox.alert(\"用户名只能包含大小写字母、数字和下划线，且长度在6到12个字符之间\", '用户名错误', {\n          showConfirmButton: true,\n          confirmButtonText: '确认'\n        }).catch(() => {\n          this.Uses = '';\n          this.Password = '';\n        });\n        return 0;\n      }\n      if (this.Password.match(passwordCheck) == null) {\n        ElMessageBox.alert(\"一个大写字母、一个小写字母、一个数字和一个特殊字符，且长度至少为8个字符\", '密码错误', {\n          showConfirmButton: true,\n          confirmButtonText: '确认'\n        }).catch(() => {\n          this.Uses = '';\n          this.Password = '';\n        });\n        console.log(this.Password);\n        return 0;\n      }\n      if (this.Password.match(passwordCheck) != null && this.Uses.match(UsesCheck) != null && this.Uses != '' && this.Password != '') {\n        let decryptedUses = CryptoJS.AES.decrypt(parts[0], timestamp).toString(CryptoJS.enc.Utf8);\n        let decryptedPassword = CryptoJS.AES.decrypt(parts[1], timestamp).toString(CryptoJS.enc.Utf8);\n        console.log(\"解密后的用户名:\", decryptedUses);\n        console.log(\"解密后的密码:\", decryptedPassword);\n        if (decryptedUses === loginData.Uses && decryptedPassword === loginData.Password) {\n          console.log(\"加密解密验证成功，可以发送请求\");\n          // 发起请求到后端登录接口\n          axios({\n            url: this.$store.state.api + '/login',\n            // 替换为实际后端接口地址\n            method: \"get\",\n            params: {\n              'MD5AESBehind': decryptedBehind,\n              'Time': timestamp\n            }\n          }).then(response => {\n            console.log(\"登录请求成功，后端响应:\", response);\n          }).catch(error => {\n            console.log(\"登录请求失败:\", error);\n          });\n        } else {\n          console.log(\"加密解密验证失败，数据可能不一致\");\n        }\n      } else {\n        console.log(\"解密后的数据格式不符合预期\");\n      }\n    }\n  }\n};","map":{"version":3,"names":["ElMessageBox","CryptoJS","axios","name","data","Uses","Password","methods","LogIn","timestamp","Date","now","toString","UsesCheck","passwordCheck","alert","showConfirmButton","confirmButtonText","catch","match","console","log","decryptedUses","AES","decrypt","parts","enc","Utf8","decryptedPassword","loginData","url","$store","state","api","method","params","decryptedBehind","then","response","error"],"sources":["C:\\Users\\Admin\\Desktop\\LAN-Sharing-0.1.0\\restvue003\\src\\components\\ViewLogIn\\Login.vue"],"sourcesContent":["<template>\r\n    <div >\r\n        <div class=\"InputStyle\"> \r\n            <span>用户名:</span><el-input v-model=\"Uses\" style=\"width: 30%\" placeholder=\"请输入用户名\" />\r\n        </div>\r\n        <div class=\"InputStyle\">\r\n            <span> 密 码 ：</span><el-input v-model=\"Password\" style=\"width: 30%\" placeholder=\"请输入密码\" type='password' show-password/>\r\n        </div>\r\n        <div class=\"InputStyle\" >\r\n            <el-button @click=LogIn()>登录</el-button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {  ElMessageBox } from 'element-plus'\r\nimport CryptoJS from 'crypto-js';\r\nimport axios from 'axios';\r\nexport default{\r\n    name:'LogLn',\r\n    data(){\r\n        return{\r\n            Uses:\"\",\r\n            Password:''\r\n        }\r\n    },\r\n    methods:{\r\n        LogIn(){\r\n            // 时间戳\r\n            const timestamp = Date.now()+'111'.toString()\r\n            const UsesCheck=/^[A-Za-z0-9_]{6,12}$/\r\n            const passwordCheck=/^(?=.*[A-Z])(?=.*[a-z])(?=.*\\d)(?=.*[@$!%*?&.])[A-Za-z\\d@$!%*?&.]{8,}$/\r\n            if (this.Uses=='' && this.Password=='' ){\r\n                ElMessageBox.alert(\"用户名和密码不能为空\", '为空检测', {\r\n                    showConfirmButton:true,\r\n                    confirmButtonText: '确认',\r\n               }).catch(()=>{\r\n                   this.Uses=''\r\n                   this.Password=''\r\n                    \r\n               })\r\n               return 0\r\n            }\r\n            if (this.Uses.match(UsesCheck)==null){\r\n                ElMessageBox.alert(\"用户名只能包含大小写字母、数字和下划线，且长度在6到12个字符之间\", '用户名错误', {\r\n                    showConfirmButton:true,\r\n                    confirmButtonText: '确认',\r\n               }).catch(()=>{\r\n                    this.Uses=''\r\n                    this.Password=''\r\n                    \r\n               })\r\n               return 0\r\n            }\r\n            if (this.Password.match(passwordCheck)==null){\r\n                ElMessageBox.alert(\"一个大写字母、一个小写字母、一个数字和一个特殊字符，且长度至少为8个字符\", '密码错误', {\r\n                    showConfirmButton:true,\r\n                    confirmButtonText: '确认',\r\n               }).catch(()=>{\r\n                   this.Uses=''\r\n                   this.Password=''\r\n                    \r\n               })\r\n               console.log(this.Password );\r\n               \r\n               return 0\r\n            }\r\n            if (this.Password.match(passwordCheck)!=null && this.Uses.match(UsesCheck)!=null && this.Uses!='' && this.Password!='' ){\r\n                let decryptedUses = CryptoJS.AES.decrypt(parts[0], timestamp).toString(CryptoJS.enc.Utf8);\r\n                    let decryptedPassword = CryptoJS.AES.decrypt(parts[1], timestamp).toString(CryptoJS.enc.Utf8);\r\n                    console.log(\"解密后的用户名:\", decryptedUses);\r\n                    console.log(\"解密后的密码:\", decryptedPassword);\r\n                    if (decryptedUses === loginData.Uses && decryptedPassword === loginData.Password) {\r\n                        console.log(\"加密解密验证成功，可以发送请求\");\r\n                        // 发起请求到后端登录接口\r\n                        axios({\r\n                            url: this.$store.state.api+'/login', // 替换为实际后端接口地址\r\n                            method: \"get\",\r\n                            params: {\r\n                                'MD5AESBehind': decryptedBehind,\r\n                                'Time': timestamp,\r\n                            }\r\n                        }).then(response => {\r\n                            console.log(\"登录请求成功，后端响应:\", response);\r\n                        }).catch(error => {\r\n                            console.log(\"登录请求失败:\", error);\r\n                        });\r\n                    } else {\r\n                        console.log(\"加密解密验证失败，数据可能不一致\");\r\n                    }\r\n                } else {\r\n                    console.log(\"解密后的数据格式不符合预期\");\r\n                }\r\n                    }\r\n                }\r\n    }\r\n\r\n</script>\r\n<style scoped>\r\n/* .Uses{\r\n   \r\n} */\r\nspan{\r\n    padding-right: 1%; \r\n      \r\n} \r\n.InputStyle{\r\n    padding-bottom: 2%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-content: center;\r\n}\r\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}