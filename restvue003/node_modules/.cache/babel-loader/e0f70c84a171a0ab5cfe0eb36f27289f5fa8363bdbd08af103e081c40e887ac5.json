{"ast":null,"code":"import axios from \"axios\";\nimport { ElMessageBox } from \"element-plus\";\nexport default {\n  name: \"NewText\",\n  data() {\n    return {\n      TextName: \"\",\n      TextConter: \"\",\n      iscatch: 0\n    };\n  },\n  methods: {\n    async onSubmit() {\n      if (this.TextName != \"\") {\n        ElMessageBox.alert(\"是否创建\" + this.TextName + \"的文本文件\", \"是否确认创建文本文件\", {\n          showConfirmButton: true,\n          showCancelButton: true,\n          confirmButtonText: \"确认\",\n          cancelButtonText: \"取消\"\n        }).catch(() => {\n          console.log(\"成功取消\");\n        }).then(async () => {\n          axios({\n            method: \"get\",\n            url: this.$store.state.api + \"/TextLnsert\",\n            params: {\n              TextName: this.TextName,\n              TextConter: this.TextConter,\n              NowPath: this.$store.state.DirPath\n            }\n          }).then(res => {\n            if (this.iscatch != 1) {\n              ElMessageBox.alert(res.data.message, \"创建文本状态\", {\n                showConfirmButton: true,\n                showCancelButton: true,\n                confirmButtonText: \"再来一个\",\n                cancelButtonText: \"取消\"\n              }).catch(() => {\n                this.$store.state.dialogVisible = false;\n                this.iscatch = 1;\n                console.log(this.iscatch);\n              });\n            }\n          });\n          await this.$store.dispatch(\"DirsFileList\");\n          await this.$store.dispatch(\"openDirs\");\n        });\n      } else {\n        console.log(\"当前文件名为空\");\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","ElMessageBox","name","data","TextName","TextConter","iscatch","methods","onSubmit","alert","showConfirmButton","showCancelButton","confirmButtonText","cancelButtonText","catch","console","log","then","method","url","$store","state","api","params","NowPath","DirPath","res","message","dialogVisible","dispatch"],"sources":["C:\\Users\\Admin\\Desktop\\codes\\restvue003\\src\\components\\NewText.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <el-form label-position=\"left\">\r\n      <div>\r\n        <el-form-item label=\"文本名称:\" style=\"max-width: 70%\">\r\n          <el-input v-model=\"TextName\" />\r\n        </el-form-item>\r\n      </div>\r\n\r\n      <div>\r\n        <el-form-item label=\"文本内容:\" style=\"max-width: 70%\">\r\n          <el-input type=\"textarea\" v-model=\"TextConter\" />\r\n        </el-form-item>\r\n      </div>\r\n    </el-form>\r\n    <div class=\"onSubmitbutton\">\r\n      <!-- <el-button type=\"primary\" @click=\"onSubmit\">确认</el-button> -->\r\n      <el-button type=\"primary\" :plain=\"true\" @click=\"onSubmit\">确认</el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from \"axios\";\r\nimport { ElMessageBox } from \"element-plus\";\r\n\r\nexport default {\r\n  name: \"NewText\",\r\n  data() {\r\n    return {\r\n      TextName: \"\",\r\n      TextConter: \"\",\r\n      iscatch: 0,\r\n    };\r\n  },\r\n  methods: {\r\n    async onSubmit() {\r\n      if (this.TextName != \"\") {\r\n        ElMessageBox.alert(\r\n          \"是否创建\" + this.TextName + \"的文本文件\",\r\n          \"是否确认创建文本文件\",\r\n          {\r\n            showConfirmButton: true,\r\n            showCancelButton: true,\r\n            confirmButtonText: \"确认\",\r\n            cancelButtonText: \"取消\",\r\n          }\r\n        )\r\n          .catch(() => {\r\n            console.log(\"成功取消\");\r\n          })\r\n          .then(async () => {\r\n            axios({\r\n              method: \"get\",\r\n              url: this.$store.state.api + \"/TextLnsert\",\r\n              params: {\r\n                TextName: this.TextName,\r\n                TextConter: this.TextConter,\r\n                NowPath: this.$store.state.DirPath,\r\n              },\r\n            }).then((res) => {\r\n              if (this.iscatch != 1) {\r\n                ElMessageBox.alert(res.data.message, \"创建文本状态\", {\r\n                  showConfirmButton: true,\r\n                  showCancelButton: true,\r\n                  confirmButtonText: \"再来一个\",\r\n                  cancelButtonText: \"取消\",\r\n                }).catch(() => {\r\n                  this.$store.state.dialogVisible = false;\r\n                  this.iscatch = 1;\r\n                  console.log(this.iscatch);\r\n                });\r\n              }\r\n            });\r\n            await this.$store.dispatch(\"DirsFileList\");\r\n            await this.$store.dispatch(\"openDirs\");\r\n          });\r\n      } else {\r\n        console.log(\"当前文件名为空\");\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.el-form-item {\r\n  /* padding-top: 1%;    */\r\n  margin: 0 auto;\r\n  margin-top: 1%;\r\n}\r\n.onSubmitbutton {\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-top: 1%;\r\n}\r\n</style>\r\n"],"mappings":"AAsBA,OAAOA,KAAI,MAAO,OAAO;AACzB,SAASC,YAAW,QAAS,cAAc;AAE3C,eAAe;EACbC,IAAI,EAAE,SAAS;EACfC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,UAAU,EAAE,EAAE;MACdC,OAAO,EAAE;IACX,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,QAAQA,CAAA,EAAG;MACf,IAAI,IAAI,CAACJ,QAAO,IAAK,EAAE,EAAE;QACvBH,YAAY,CAACQ,KAAK,CAChB,MAAK,GAAI,IAAI,CAACL,QAAO,GAAI,OAAO,EAChC,YAAY,EACZ;UACEM,iBAAiB,EAAE,IAAI;UACvBC,gBAAgB,EAAE,IAAI;UACtBC,iBAAiB,EAAE,IAAI;UACvBC,gBAAgB,EAAE;QACpB,CACF,EACGC,KAAK,CAAC,MAAM;UACXC,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;QACrB,CAAC,EACAC,IAAI,CAAC,YAAY;UAChBjB,KAAK,CAAC;YACJkB,MAAM,EAAE,KAAK;YACbC,GAAG,EAAE,IAAI,CAACC,MAAM,CAACC,KAAK,CAACC,GAAE,GAAI,aAAa;YAC1CC,MAAM,EAAE;cACNnB,QAAQ,EAAE,IAAI,CAACA,QAAQ;cACvBC,UAAU,EAAE,IAAI,CAACA,UAAU;cAC3BmB,OAAO,EAAE,IAAI,CAACJ,MAAM,CAACC,KAAK,CAACI;YAC7B;UACF,CAAC,CAAC,CAACR,IAAI,CAAES,GAAG,IAAK;YACf,IAAI,IAAI,CAACpB,OAAM,IAAK,CAAC,EAAE;cACrBL,YAAY,CAACQ,KAAK,CAACiB,GAAG,CAACvB,IAAI,CAACwB,OAAO,EAAE,QAAQ,EAAE;gBAC7CjB,iBAAiB,EAAE,IAAI;gBACvBC,gBAAgB,EAAE,IAAI;gBACtBC,iBAAiB,EAAE,MAAM;gBACzBC,gBAAgB,EAAE;cACpB,CAAC,CAAC,CAACC,KAAK,CAAC,MAAM;gBACb,IAAI,CAACM,MAAM,CAACC,KAAK,CAACO,aAAY,GAAI,KAAK;gBACvC,IAAI,CAACtB,OAAM,GAAI,CAAC;gBAChBS,OAAO,CAACC,GAAG,CAAC,IAAI,CAACV,OAAO,CAAC;cAC3B,CAAC,CAAC;YACJ;UACF,CAAC,CAAC;UACF,MAAM,IAAI,CAACc,MAAM,CAACS,QAAQ,CAAC,cAAc,CAAC;UAC1C,MAAM,IAAI,CAACT,MAAM,CAACS,QAAQ,CAAC,UAAU,CAAC;QACxC,CAAC,CAAC;MACN,OAAO;QACLd,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;MACxB;IACF;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}