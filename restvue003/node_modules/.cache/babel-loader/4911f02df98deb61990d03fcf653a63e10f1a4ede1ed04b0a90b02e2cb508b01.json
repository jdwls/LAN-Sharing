{"ast":null,"code":"import { defineComponent as e, toRaw as n, shallowRef as t, computed as r, ref as o, readonly as a, onMounted as i, watch as u, normalizeClass as c, onBeforeUnmount as l, h as s } from \"vue\";\nimport p from \"video.js\";\nfunction g(e, n) {\n  var t = {};\n  for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && n.indexOf(r) < 0 && (t[r] = e[r]);\n  if (null != e && \"function\" == typeof Object.getOwnPropertySymbols) {\n    var o = 0;\n    for (r = Object.getOwnPropertySymbols(e); o < r.length; o++) n.indexOf(r[o]) < 0 && Object.prototype.propertyIsEnumerable.call(e, r[o]) && (t[r[o]] = e[r[o]]);\n  }\n  return t;\n}\nvar d = {\n    src: {\n      type: String,\n      onChange: function (e, n) {\n        return e.src(n);\n      }\n    },\n    width: {\n      type: Number,\n      onChange: function (e, n) {\n        return e.width(n);\n      },\n      onEvent: function (e, n) {\n        e.on([\"playerresize\", \"resize\"], function () {\n          return n(e.width());\n        });\n      }\n    },\n    height: {\n      type: Number,\n      onChange: function (e, n) {\n        return e.height(n);\n      },\n      onEvent: function (e, n) {\n        e.on([\"playerresize\", \"resize\"], function () {\n          return n(e.height());\n        });\n      }\n    },\n    preload: {\n      type: String,\n      onChange: function (e, n) {\n        return e.preload(n);\n      }\n    },\n    loop: {\n      type: Boolean,\n      onChange: function (e, n) {\n        return e.loop(n);\n      }\n    },\n    muted: {\n      type: Boolean,\n      onChange: function (e, n) {\n        return e.muted(n);\n      },\n      onEvent: function (e, n) {\n        return e.on(\"volumechange\", function () {\n          return n(e.muted());\n        });\n      }\n    },\n    poster: {\n      type: String,\n      onChange: function (e, n) {\n        return e.poster(n);\n      },\n      onEvent: function (e, n) {\n        return e.on(\"posterchange\", function () {\n          return n(e.poster());\n        });\n      }\n    },\n    controls: {\n      type: Boolean,\n      onChange: function (e, n) {\n        return e.controls(n);\n      },\n      onEvent: function (e, n) {\n        e.on(\"controlsenabled\", function () {\n          return n(!0);\n        }), e.on(\"controlsdisabled\", function () {\n          return n(!1);\n        });\n      }\n    },\n    autoplay: {\n      type: [Boolean, String],\n      onChange: function (e, n) {\n        return e.autoplay(n);\n      }\n    },\n    crossorigin: {\n      type: String,\n      onChange: function (e, n) {\n        return e.crossOrigin(n);\n      }\n    },\n    crossOrigin: {\n      type: String,\n      onChange: function (e, n) {\n        return e.crossOrigin(n);\n      }\n    },\n    playsinline: {\n      type: Boolean,\n      onChange: function (e, n) {\n        return e.playsinline(n);\n      }\n    },\n    playsInline: {\n      type: Boolean,\n      onChange: function (e, n) {\n        return e.playsinline(n);\n      }\n    }\n  },\n  f = {\n    id: {\n      type: String\n    },\n    sources: {\n      type: Array,\n      onChange: function (e, n) {\n        return e.src(n);\n      }\n    },\n    tracks: {\n      type: Array,\n      onChange: function (e, n) {\n        for (var t = e.remoteTextTracks(), r = (null == t ? void 0 : t.length) || 0; r--;) e.removeRemoteTextTrack(t[r]);\n        e.ready(function () {\n          n.forEach(function (n) {\n            return e.addRemoteTextTrack(n, !1);\n          });\n        });\n      }\n    },\n    textTrackSettings: {\n      type: Object,\n      onChange: function (e, n) {\n        return e.textTrackSettings.options(n);\n      }\n    },\n    language: {\n      type: String,\n      onChange: function (e, n) {\n        return e.language(n);\n      },\n      onEvent: function (e, n) {\n        return e.on(\"languagechange\", function () {\n          return n(e.language());\n        });\n      }\n    },\n    languages: {\n      type: Object\n    },\n    playbackRates: {\n      type: Array,\n      onChange: function (e, n) {\n        return e.playbackRates(null != n ? n : []);\n      },\n      onEvent: function (e, n) {\n        e.on(\"playbackrateschange\", function () {\n          return n(e.playbackRates());\n        });\n      }\n    },\n    audioOnlyMode: {\n      type: Boolean,\n      onChange: function (e, n) {\n        return e.audioOnlyMode(n);\n      }\n    },\n    audioPosterMode: {\n      type: Boolean,\n      onChange: function (e, n) {\n        return e.audioPosterMode(n);\n      }\n    },\n    responsive: {\n      type: Boolean,\n      onChange: function (e, n) {\n        return e.responsive(n);\n      }\n    },\n    breakpoints: {\n      type: Object,\n      onChange: function (e, n) {\n        return e.breakpoints(n);\n      }\n    },\n    fluid: {\n      type: Boolean,\n      onChange: function (e, n) {\n        return e.fluid(n);\n      }\n    },\n    fill: {\n      type: Boolean,\n      onChange: function (e, n) {\n        return e.fill(n);\n      }\n    },\n    aspectRatio: {\n      type: String,\n      onChange: function (e, n) {\n        return e.aspectRatio(n);\n      }\n    },\n    fullscreen: {\n      type: Object\n    },\n    liveui: {\n      type: Boolean\n    },\n    liveTracker: {\n      type: Object\n    },\n    disablePictureInPicture: {\n      type: Boolean,\n      onChange: function (e, n) {\n        return e.disablePictureInPicture(n);\n      }\n    },\n    notSupportedMessage: {\n      type: String\n    },\n    normalizeAutoplay: {\n      type: Boolean\n    },\n    noUITitleAttributes: {\n      type: Boolean\n    },\n    preferFullWindow: {\n      type: Boolean\n    },\n    suppressNotSupportedError: {\n      type: Boolean\n    },\n    techCanOverridePoster: {\n      type: Boolean\n    },\n    reportTouchActivity: {\n      type: Boolean\n    },\n    techOrder: {\n      type: Array\n    },\n    inactivityTimeout: {\n      type: Number\n    },\n    userActions: {\n      type: Object\n    },\n    plugins: {\n      type: Object\n    },\n    restoreEl: {\n      type: [Boolean, Object]\n    },\n    \"vtt.js\": {\n      type: String\n    }\n  },\n  v = {\n    children: {\n      type: [Array, Object]\n    },\n    controlBar: {\n      type: Object,\n      onChange: function (e, n) {\n        return e.controlBar.options(n);\n      }\n    }\n  },\n  y = {\n    html5: {\n      type: Object\n    }\n  },\n  h = {\n    volume: {\n      type: Number,\n      onChange: function (e, n) {\n        return e.volume(n);\n      },\n      onEvent: function (e, n) {\n        return e.on(\"volumechange\", function () {\n          return n(e.volume());\n        });\n      }\n    },\n    playbackRate: {\n      type: Number,\n      onChange: function (e, n) {\n        e.playbackRate(n), e.defaultPlaybackRate(n);\n      },\n      onEvent: function (e, n) {\n        e.on(\"ratechange\", function () {\n          n(e.playbackRate());\n        });\n      }\n    },\n    options: {\n      type: Object\n    }\n  },\n  b = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, d), f), v), y), h),\n  m = Object.keys(b),\n  O = Object.assign(Object.assign(Object.assign(Object.assign({}, {\n    loadstart: \"onLoadStart\",\n    suspend: \"onSuspend\",\n    abort: \"onAbort\",\n    error: \"onError\",\n    emptied: \"onEmptied\",\n    stalled: \"onStalled\",\n    loadedmetadata: \"onLoadedMetadata\",\n    loadeddata: \"onLoadedData\",\n    canplay: \"onCanPlay\",\n    canplaythrough: \"onCanPlayThrough\",\n    playing: \"onPlaying\",\n    waiting: \"onWaiting\",\n    seeking: \"onSeeking\",\n    seeked: \"onSeeked\",\n    ended: \"onEnded\",\n    durationchange: \"onDurationChange\",\n    timeupdate: \"onTimeUpdate\",\n    progress: \"onProgress\",\n    play: \"onPlay\",\n    pause: \"onpause\",\n    ratechange: \"onRateChange\",\n    resize: \"onResize\",\n    volumechange: \"onVolumeChange\"\n  }), {\n    posterchange: \"onPosterChange\",\n    languagechange: \"onLanguageChange\",\n    fullscreenchange: \"onFullscreenChange\",\n    playbackrateschange: \"onPlaybackRatesChange\",\n    controlsdisabled: \"onControlsDisabled\",\n    controlsenabled: \"onControlsEnabled\",\n    enterFullWindow: \"onEnterFullWindow\",\n    exitFullWindow: \"onExitFullWindow\",\n    enterpictureinpicture: \"onEnterPictureInPicture\",\n    leavepictureinpicture: \"onLeavePictureInPicture\",\n    sourceset: \"onSourceSet\",\n    texttrackchange: \"onTextTrackChange\",\n    textdata: \"onTextData\",\n    useractive: \"onUserActive\",\n    userinactive: \"onUserInactive\",\n    usingcustomcontrols: \"onUsingCustomControls\",\n    usingnativecontrols: \"onUsingNativeControls\",\n    dispose: \"onDispose\"\n  }), {\n    beforepluginsetup: \"onBeforePluginSetup\",\n    pluginsetup: \"onPluginSetup\"\n  }), {\n    componentresize: \"onComponentResize\",\n    playerresize: \"onPlayerResize\",\n    ready: \"onReady\",\n    tap: \"onTap\"\n  }),\n  k = Object.keys(O);\nObject.values(O);\nvar C = function (e) {\n    var n,\n      t = null == e ? void 0 : e.trim().replace(/\\s+/g, \" \");\n    return t && null !== (n = t.split(\" \")) && void 0 !== n ? n : [];\n  },\n  j = {\n    src: {\n      getter: function (e) {\n        return e.src();\n      }\n    },\n    currentSrc: {\n      getter: function (e) {\n        return e.currentSrc();\n      }\n    },\n    currentSource: {\n      getter: function (e) {\n        return e.currentSource();\n      }\n    },\n    width: {\n      events: [\"resize\", \"playerresize\"],\n      getter: function (e) {\n        return e.width();\n      }\n    },\n    height: {\n      events: [\"resize\", \"playerresize\"],\n      getter: function (e) {\n        return e.height();\n      }\n    },\n    currentWidth: {\n      events: [\"resize\", \"playerresize\"],\n      getter: function (e) {\n        return e.currentWidth();\n      }\n    },\n    currentHeight: {\n      events: [\"resize\", \"playerresize\"],\n      getter: function (e) {\n        return e.currentHeight();\n      }\n    },\n    videoWidth: {\n      events: [\"resize\", \"playerresize\"],\n      getter: function (e) {\n        return e.videoWidth();\n      }\n    },\n    videoHeight: {\n      events: [\"resize\", \"playerresize\"],\n      getter: function (e) {\n        return e.videoHeight();\n      }\n    },\n    controls: {\n      events: [\"controlsdisabled\", \"controlsenabled\"],\n      getter: function (e) {\n        return e.controls();\n      }\n    },\n    volume: {\n      events: [\"volumechange\"],\n      getter: function (e) {\n        return e.volume();\n      }\n    },\n    muted: {\n      events: [\"volumechange\"],\n      getter: function (e) {\n        return e.muted();\n      }\n    },\n    poster: {\n      events: [\"posterchange\"],\n      getter: function (e) {\n        return e.poster();\n      }\n    },\n    seeking: {\n      events: [\"seeking\"],\n      getter: function (e) {\n        return e.seeking();\n      }\n    },\n    paused: {\n      events: [\"pause\", \"play\", \"playing\"],\n      getter: function (e) {\n        return e.paused();\n      }\n    },\n    ended: {\n      events: [\"ended\", \"play\"],\n      getter: function (e) {\n        return e.ended();\n      }\n    },\n    currentTime: {\n      events: [\"timeupdate\"],\n      getter: function (e) {\n        return e.currentTime();\n      }\n    },\n    duration: {\n      events: [\"durationchange\"],\n      getter: function (e) {\n        return e.duration();\n      }\n    },\n    playbackRate: {\n      events: [\"ratechange\"],\n      getter: function (e) {\n        return e.playbackRate();\n      }\n    },\n    playbackRates: {\n      events: [\"playbackrateschange\"],\n      getter: function (e) {\n        return e.playbackRates();\n      }\n    },\n    isFullscreen: {\n      events: [\"fullscreenchange\"],\n      getter: function (e) {\n        return e.isFullscreen();\n      }\n    },\n    isInPictureInPicture: {\n      events: [\"enterpictureinpicture\", \"leavepictureinpicture\"],\n      getter: function (e) {\n        return e.isInPictureInPicture();\n      }\n    },\n    isLive: {\n      getter: function (e) {\n        var n;\n        return null === (n = e.liveTracker) || void 0 === n ? void 0 : n.isLive();\n      }\n    },\n    language: {\n      events: [\"languagechange\"],\n      getter: function (e) {\n        return e.language();\n      }\n    },\n    userActive: {\n      events: [\"useractive\", \"userinactive\"],\n      getter: function (e) {\n        return e.userActive();\n      }\n    },\n    readyState: {\n      events: [\"loadeddata\"],\n      getter: function (e) {\n        return e.readyState();\n      }\n    },\n    networkState: {\n      events: [\"loadeddata\", \"error\"],\n      getter: function (e) {\n        return e.networkState();\n      }\n    },\n    error: {\n      events: [\"loadeddata\", \"error\"],\n      getter: function (e) {\n        return e.error();\n      }\n    },\n    buffered: {\n      events: [\"progress\"],\n      getter: function (e) {\n        return e.buffered();\n      }\n    },\n    bufferedPercent: {\n      events: [\"progress\"],\n      getter: function (e) {\n        return e.bufferedPercent();\n      }\n    },\n    played: {\n      events: [\"timeupdate\"],\n      getter: function (e) {\n        return e.played();\n      }\n    },\n    seekable: {\n      events: [\"progress\", \"seeked\"],\n      getter: function (e) {\n        return e.seekable();\n      }\n    },\n    audioTracks: {\n      getter: function (e) {\n        var n;\n        return null === (n = e.audioTracks) || void 0 === n ? void 0 : n.call(e);\n      }\n    },\n    videoTracks: {\n      getter: function (e) {\n        var n;\n        return null === (n = e.videoTracks) || void 0 === n ? void 0 : n.call(e);\n      }\n    },\n    textTracks: {\n      getter: function (e) {\n        var n;\n        return null === (n = e.textTracks) || void 0 === n ? void 0 : n.call(e);\n      }\n    }\n  },\n  P = m.filter(function (e) {\n    return Boolean(b[e].onEvent);\n  }),\n  S = function (e) {\n    return \"update:\" + e;\n  },\n  E = k.concat(P.map(S)),\n  T = m.reduce(function (e, n) {\n    var t,\n      r = b[n],\n      o = Array.isArray(r.type) ? r.type : [r.type],\n      a = Object.assign({}, r);\n    return o.includes(Boolean) && (a.default = void 0), Object.assign(Object.assign({}, e), ((t = {})[n] = a, t));\n  }, {}),\n  B = e({\n    name: \"VueVideoPlayer\",\n    props: Object.assign(Object.assign({}, T), {\n      class: [String, Object, Array]\n    }),\n    emits: E.concat([\"mounted\"], [\"unmounted\"]),\n    setup: function (e, d) {\n      var f = n(e),\n        v = f.class,\n        y = g(f, [\"class\"]),\n        h = t(!1),\n        O = t(null),\n        E = t(null),\n        T = r(function () {\n          return E.value ? E.value.player : null;\n        }),\n        B = o(null),\n        R = r(function () {\n          return B.value ? a(B.value) : null;\n        });\n      return i(function () {\n        var n,\n          t = function (e) {\n            var n,\n              t = e.props,\n              r = e.element,\n              o = e.className,\n              a = e.onEvent,\n              i = t.options;\n            void 0 === i && (i = {});\n            var u = g(t, [\"options\"]),\n              c = {};\n            Object.keys(u).forEach(function (e) {\n              var n = u[e];\n              void 0 !== n && (c[e] = n);\n            });\n            var l = Object.assign(Object.assign({}, c), i),\n              s = l.volume,\n              d = l.playbackRate,\n              f = g(l, [\"volume\", \"playbackRate\"]),\n              v = Object.assign(Object.assign({}, f), {\n                playsinline: null !== (n = f.playsinline) && void 0 !== n ? n : f.playsInline\n              }),\n              y = p(r, v, function () {\n                var e = this;\n                k.forEach(function (n) {\n                  e.on(n, function (e) {\n                    a(n, e);\n                  });\n                }), f.src && !f.sources && this.src(f.src), s && Number.isFinite(s) && this.volume(s), d && Number.isFinite(d) && (this.defaultPlaybackRate(d), setTimeout(function () {\n                  e.playbackRate(d);\n                }, 0));\n              });\n            o && C(o).map(function (e) {\n              return y.addClass(e);\n            });\n            var h = function (e) {\n              var n;\n              null === (n = y.options) || void 0 === n || n.call(y, null != e ? e : {});\n            };\n            return {\n              player: y,\n              dispose: function () {\n                return y.dispose();\n              },\n              updateClassNames: function (e, n) {\n                C(e).map(function (e) {\n                  return y.removeClass(e);\n                }), C(n).map(function (e) {\n                  return y.addClass(e);\n                });\n              },\n              updateOptions: h,\n              updatePropOption: function (e, n) {\n                var t, r, o;\n                h(((t = {})[e] = n, t)), null === (o = null === (r = b[e]) || void 0 === r ? void 0 : r.onChange) || void 0 === o || o.call(r, y, n);\n              }\n            };\n          }({\n            element: O.value,\n            props: y,\n            onEvent: d.emit\n          });\n        n = {\n          player: t.player,\n          onEvent: d.emit\n        }, P.forEach(function (e) {\n          var t, r;\n          null === (r = null === (t = b[e]) || void 0 === t ? void 0 : t.onEvent) || void 0 === r || r.call(t, n.player, function (t) {\n            n.onEvent(S(e), t);\n          });\n        }), u(function () {\n          return e.class;\n        }, function (e, n) {\n          var r = c(n),\n            o = c(e);\n          t.updateClassNames(r, o);\n        }, {\n          immediate: !0\n        }), u(function () {\n          return e.options;\n        }, function (e) {\n          return t.updateOptions(null != e ? e : {});\n        }, {\n          deep: !0\n        }), m.filter(function (e) {\n          return \"options\" !== e;\n        }).forEach(function (n) {\n          u(function () {\n            return e[n];\n          }, function (e) {\n            return t.updatePropOption(n, e);\n          }, {\n            deep: !0\n          });\n        }), function (e, n) {\n          var t = Object.keys(j),\n            r = t.reduce(function (n, t) {\n              var r;\n              return Object.assign(Object.assign({}, n), ((r = {})[t] = j[t].getter(e), r));\n            }, {\n              playing: !1,\n              waiting: !1\n            }),\n            o = function (e, t) {\n              r[e] = t, n.onUpdate(e, t, Object.assign({}, r));\n            };\n          e.on([\"pause\", \"ended\"], function () {\n            o(\"playing\", !1);\n          }), e.on([\"play\", \"playing\"], function () {\n            o(\"playing\", !0);\n          }), e.on(\"waiting\", function () {\n            o(\"waiting\", !0);\n            var n = e.currentTime(),\n              t = function () {\n                n !== e.currentTime() && (o(\"waiting\", !1), e.off(\"timeupdate\", t));\n              };\n            e.on(\"timeupdate\", t);\n          }), t.forEach(function (n) {\n            var t,\n              r = j[n];\n            e.on([\"loadstart\", \"loadedmetadata\"].concat(null !== (t = r.events) && void 0 !== t ? t : []), function () {\n              o(n, r.getter(e));\n            });\n          }), n.onInit(Object.assign({}, r));\n        }(t.player, {\n          onInit: function (e) {\n            B.value = e;\n          },\n          onUpdate: function (e, n) {\n            B.value && (B.value[e] = n);\n          }\n        }), E.value = t, h.value = !0, d.emit(\"mounted\", {\n          video: O.value,\n          player: T.value,\n          state: R.value\n        });\n      }), l(function () {\n        E.value && (E.value.dispose(), E.value = null, B.value = null, d.emit(\"unmounted\"));\n      }), function () {\n        var e, n;\n        return s(\"div\", {\n          \"data-vjs-player\": \"\",\n          class: c(v)\n        }, [s(\"video\", {\n          class: [\"video-js\", \"v-video-player\"],\n          ref: O\n        }), h.value && (null === (n = (e = d.slots).default) || void 0 === n ? void 0 : n.call(e, {\n          video: O.value,\n          player: T.value,\n          state: R.value\n        }))]);\n      };\n    }\n  }),\n  R = B,\n  z = function (e) {\n    e.component(\"VideoPlayer\", B), e.component(B.name, B);\n  },\n  w = {\n    VideoPlayer: B,\n    install: z\n  };\nexport { R as VideoPlayer, w as default, z as install };","map":{"version":3,"names":["d","src","type","String","onChange","e","n","width","Number","onEvent","on","height","preload","loop","Boolean","muted","poster","controls","autoplay","crossorigin","crossOrigin","playsinline","playsInline","f","id","sources","Array","tracks","t","remoteTextTracks","r","length","removeRemoteTextTrack","ready","forEach","addRemoteTextTrack","textTrackSettings","Object","options","language","languages","playbackRates","audioOnlyMode","audioPosterMode","responsive","breakpoints","fluid","fill","aspectRatio","fullscreen","liveui","liveTracker","disablePictureInPicture","notSupportedMessage","normalizeAutoplay","noUITitleAttributes","preferFullWindow","suppressNotSupportedError","techCanOverridePoster","reportTouchActivity","techOrder","inactivityTimeout","userActions","plugins","restoreEl","v","children","controlBar","y","html5","h","volume","playbackRate","defaultPlaybackRate","b","assign","m","keys","O","loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange","posterchange","languagechange","fullscreenchange","playbackrateschange","controlsdisabled","controlsenabled","enterFullWindow","exitFullWindow","enterpictureinpicture","leavepictureinpicture","sourceset","texttrackchange","textdata","useractive","userinactive","usingcustomcontrols","usingnativecontrols","dispose","beforepluginsetup","pluginsetup","componentresize","playerresize","tap","k","values","C","standardizeClass","trim","replace","split","j","getter","currentSrc","currentSource","events","currentWidth","currentHeight","videoWidth","videoHeight","paused","currentTime","duration","isFullscreen","isInPictureInPicture","isLive","userActive","readyState","networkState","buffered","bufferedPercent","played","seekable","audioTracks","call","videoTracks","textTracks","P","filter","S","getPropUpdateEventName","E","concat","map","T","reduce","o","isArray","a","includes","default","B","name","props","class","emits","setup","g","value","player","R","i","element","className","u","c","l","s","p","isFinite","setTimeout","addClass","updateOptions","updateClassNames","removeClass","updatePropOption","emit","immediate","deep","updateState","onUpdate","timeUpdateListener","off","onInit","video","state","ref","slots","z","install","component","w","VideoPlayer"],"sources":["../../../player/props.ts","../../../player/events.ts","../../../player/player.ts","../../../player/state.ts","../src/helper.ts","../src/component.ts","../src/index.ts"],"sourcesContent":["import videojs from 'video.js'\nimport type { VideoJsPlayerOptions } from 'video.js'\nimport type { VideoJsPlayer } from './type'\n\ntype PropType<T = any> = { (): T }\ntype InferPropType<T> = T extends PropType<infer V> ? V : T\n\nconst prop = <T>(options: {\n  type: PropType<T>\n  default?: any\n  onChange?: (player: VideoJsPlayer, newValue: T, oldValue?: T) => any\n  onEvent?: (player: VideoJsPlayer, callback: (newValue: T) => void) => any\n}) => options\n\n// Standard <video> Element Options\n// https://videojs.com/guides/options/#standard\nconst videoProps = {\n  src: prop({\n    type: String,\n    onChange: (player, src) => player.src(src)\n  }),\n  width: prop({\n    type: Number,\n    onChange: (player, width) => player.width(width),\n    onEvent: (player, cb) => {\n      player.on(['playerresize', 'resize'], () => cb(player.width()))\n    }\n  }),\n  height: prop({\n    type: Number,\n    onChange: (player, height) => player.height(height),\n    onEvent: (player, cb) => {\n      player.on(['playerresize', 'resize'], () => cb(player.height()))\n    }\n  }),\n  preload: prop({\n    type: String as PropType<'auto' | 'metadata' | 'none'>,\n    // https://github.com/videojs/video.js/blob/main/src/js/player.js#L3696\n    onChange: (player, preload) => player.preload(preload as any)\n  }),\n  loop: prop({\n    type: Boolean,\n    onChange: (player, loop) => player.loop(loop)\n  }),\n  muted: prop({\n    type: Boolean,\n    onChange: (player, muted) => player.muted(muted),\n    onEvent: (player, cb) => player.on('volumechange', () => cb(player.muted()))\n  }),\n  poster: prop({\n    type: String,\n    onChange: (player, poster) => player.poster(poster),\n    onEvent: (player, cb) => player.on('posterchange', () => cb(player.poster()))\n  }),\n  controls: prop({\n    type: Boolean,\n    onChange: (player, controls) => player.controls(controls),\n    onEvent: (player, cb) => {\n      player.on('controlsenabled', () => cb(true))\n      player.on('controlsdisabled', () => cb(false))\n    }\n  }),\n  // https://videojs.com/guides/options/#autoplay\n  autoplay: prop({\n    type: [Boolean, String] as unknown as PropType<boolean | 'muted' | 'play' | 'any'>,\n    onChange: (player, autoplay) => player.autoplay(autoplay)\n  }),\n  // https://github.com/videojs/video.js/blob/main/src/js/player.js#L793\n  // Support both crossOrigin and crossorigin to reduce confusion and issues around the name.\n  crossorigin: prop({\n    type: String,\n    onChange: (player, value) => player.crossOrigin(value as any)\n  }),\n  crossOrigin: prop({\n    type: String,\n    onChange: (player, value) => player.crossOrigin(value as any)\n  }),\n  playsinline: prop({\n    type: Boolean,\n    onChange: (player, value) => player.playsinline(value)\n  }),\n  playsInline: prop({\n    type: Boolean,\n    onChange: (player, value) => player.playsinline(value)\n  })\n}\n\n// Video.js specific Options\n// https://videojs.com/guides/options/#videojs-specific-options\nconst videoJsProps = {\n  id: prop({ type: String }),\n  sources: prop({\n    type: Array as PropType<NonNullable<VideoJsPlayerOptions['sources']>>,\n    onChange: (player, sources) => player.src(sources)\n  }),\n  tracks: prop({\n    type: Array as PropType<NonNullable<VideoJsPlayerOptions['tracks']>>,\n    onChange: (player, newTracks) => {\n      // https://github.com/videojs/videojs-playlist/blob/main/src/play-item.js\n      const oldTracks = player.remoteTextTracks()\n      // This uses a `while` loop rather than `forEach` because the `TextTrackList` object is a live DOM list (not an array).\n      let index = oldTracks?.length || 0\n      while (index--) {\n        player.removeRemoteTextTrack(oldTracks[index] as any as HTMLTrackElement)\n      }\n      // Add new text tracks.\n      player.ready(() => {\n        newTracks.forEach((track) => player.addRemoteTextTrack(track, false))\n      })\n    }\n  }),\n  textTrackSettings: prop({\n    type: Object as PropType<NonNullable<VideoJsPlayerOptions['textTrackSettings']>>,\n    onChange: (player, value) => (player as any).textTrackSettings.options(value)\n  }),\n  language: prop({\n    type: String,\n    onChange: (player, language) => player.language(language),\n    onEvent: (player, cb) => player.on('languagechange', () => cb(player.language()))\n  }),\n  // https://videojs.com/guides/options/#languages\n  // https://videojs.com/guides/languages/\n  // https://docs.videojs.com/module-videojs-videojs.html#.addLanguage\n  languages: prop({\n    type: Object as PropType<NonNullable<VideoJsPlayerOptions['languages']>>\n  }),\n  playbackRates: prop({\n    type: Array as PropType<NonNullable<VideoJsPlayerOptions['playbackRates']>>,\n    onChange: (player, newRates) => player.playbackRates(newRates ?? []),\n    onEvent: (player, cb) => {\n      player.on('playbackrateschange', () => cb(player.playbackRates()))\n    }\n  }),\n  audioOnlyMode: prop({\n    type: Boolean,\n    onChange: (player, value) => player.audioOnlyMode(value)\n  }),\n  audioPosterMode: prop({\n    type: Boolean,\n    onChange: (player, value) => player.audioPosterMode(value)\n  }),\n  responsive: prop({\n    type: Boolean,\n    onChange: (player, value) => player.responsive(value)\n  }),\n  breakpoints: prop({\n    type: Object as PropType<Partial<videojs.Breakpoint>>,\n    onChange: (player, value) => player.breakpoints(value)\n  }),\n  fluid: prop({\n    type: Boolean,\n    onChange: (player, value) => player.fluid(value)\n  }),\n  // https://docs.videojs.com/player#fill\n  fill: prop({\n    type: Boolean,\n    onChange: (player, value) => player.fill(value)\n  }),\n  aspectRatio: prop({\n    type: String,\n    onChange: (player, ratio) => player.aspectRatio(ratio)\n  }),\n  // https://videojs.com/guides/options/#fullscreen\n  fullscreen: prop({\n    type: Object as PropType<NonNullable<VideoJsPlayerOptions['fullscreen']>>\n  }),\n  // https://videojs.com/guides/options/#liveui\n  liveui: prop({ type: Boolean }),\n  // https://videojs.com/guides/options/#livetrackertrackingthreshold\n  liveTracker: prop({\n    type: Object as PropType<\n      Partial<{\n        trackingThreshold: number\n        liveTolerance: number\n        [key: string]: any\n      }>\n    >\n  }),\n  disablePictureInPicture: prop({\n    type: Boolean,\n    onChange: (player, value) => player.disablePictureInPicture(value)\n  }),\n  notSupportedMessage: prop({ type: String }),\n  normalizeAutoplay: prop({ type: Boolean }),\n  noUITitleAttributes: prop({ type: Boolean }),\n  preferFullWindow: prop({ type: Boolean }),\n  suppressNotSupportedError: prop({ type: Boolean }),\n  techCanOverridePoster: prop({ type: Boolean }),\n  reportTouchActivity: prop({ type: Boolean }),\n  techOrder: prop({ type: Array as PropType<Array<string>> }),\n  // https://videojs.com/guides/options/#inactivitytimeout\n  inactivityTimeout: prop({ type: Number }),\n  userActions: prop({\n    type: Object as PropType<NonNullable<VideoJsPlayerOptions['userActions']>>\n  }),\n  // https://videojs.com/guides/options/#plugins\n  // https://videojs.com/guides/plugins/\n  plugins: prop({\n    type: Object as PropType<NonNullable<VideoJsPlayerOptions['plugins']>>\n  }),\n  restoreEl: prop({ type: [Boolean, Object] as unknown as PropType<boolean | Element> }),\n  'vtt.js': prop({ type: String })\n}\n\n// Video.js component Options\n// https://videojs.com/guides/options/#component-options\nconst videoJsComponentProps = {\n  children: prop({\n    type: [Array, Object] as unknown as PropType<NonNullable<VideoJsPlayerOptions['children']>>\n  }),\n  // https://videojs.com/guides/options/#controlbarremainingtimedisplaydisplaynegative\n  controlBar: prop({\n    type: Object as PropType<NonNullable<VideoJsPlayerOptions['controlBar']>>,\n    onChange: (player, value) => player.controlBar.options(value)\n  })\n}\n\n// Video.js tech Options\n// https://videojs.com/guides/options/#tech-options\nconst videoJsTechProps = {\n  html5: prop({\n    type: Object as PropType<\n      Partial<{\n        vhs: any\n        nativeControlsForTouch: boolean\n        nativeAudioTracks: boolean\n        nativeTextTracks: boolean\n        nativeVideoTracks: boolean\n        preloadTextTracks: boolean\n      }>\n    >\n  })\n}\n\n// Framework component Options\nconst componentProps = {\n  volume: prop({\n    type: Number,\n    onChange: (player, volume) => player.volume(volume),\n    onEvent: (player, cb) => player.on('volumechange', () => cb(player.volume()))\n  }),\n  playbackRate: prop({\n    type: Number,\n    onChange(player, rate) {\n      // When playbackRate changes, sync the value to defaultPlaybackRate to\n      // ensure that the last saved playbackRate is automatically read when the video changes source.\n      player.playbackRate(rate)\n      player.defaultPlaybackRate(rate)\n    },\n    onEvent(player, callback) {\n      player.on('ratechange', () => {\n        callback(player.playbackRate())\n      })\n    }\n  }),\n  // Fallback for video.js options\n  options: prop({\n    type: Object as PropType<VideoJsPlayerOptions>\n  })\n}\n\nexport const propsConfig = {\n  ...videoProps,\n  ...videoJsProps,\n  ...videoJsComponentProps,\n  ...videoJsTechProps,\n  ...componentProps\n} as const\n\nexport type PropsConfig = typeof propsConfig\nexport type PropKey = keyof PropsConfig\nexport type Props = {\n  [K in PropKey]?: InferPropType<typeof propsConfig[K]['type']>\n}\n\nexport const propKeys = Object.keys(propsConfig) as Array<PropKey>\n","// https://www.w3.org/2010/05/video/mediaevents.html\n// https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video#events\n// https://github.com/videojs/video.js/blob/main/src/js/tech/html5.js#L1204\nconst html5EventsMap = {\n  loadstart: 'onLoadStart',\n  suspend: 'onSuspend',\n  abort: 'onAbort',\n  error: 'onError',\n  emptied: 'onEmptied',\n  stalled: 'onStalled',\n  loadedmetadata: 'onLoadedMetadata',\n  loadeddata: 'onLoadedData',\n  canplay: 'onCanPlay',\n  canplaythrough: 'onCanPlayThrough',\n  playing: 'onPlaying',\n  waiting: 'onWaiting',\n  seeking: 'onSeeking',\n  seeked: 'onSeeked',\n  ended: 'onEnded',\n  durationchange: 'onDurationChange',\n  timeupdate: 'onTimeUpdate',\n  progress: 'onProgress',\n  play: 'onPlay',\n  pause: 'onpause',\n  ratechange: 'onRateChange',\n  resize: 'onResize',\n  volumechange: 'onVolumeChange'\n} as const\n\n// https://docs.videojs.com/player#event\nconst videoJsEventsMap = {\n  posterchange: 'onPosterChange',\n  languagechange: 'onLanguageChange',\n  fullscreenchange: 'onFullscreenChange',\n  playbackrateschange: 'onPlaybackRatesChange',\n  controlsdisabled: 'onControlsDisabled',\n  controlsenabled: 'onControlsEnabled',\n  enterFullWindow: 'onEnterFullWindow',\n  exitFullWindow: 'onExitFullWindow',\n  enterpictureinpicture: 'onEnterPictureInPicture',\n  leavepictureinpicture: 'onLeavePictureInPicture',\n  // https://docs.videojs.com/player#event:sourceset\n  sourceset: 'onSourceSet',\n  texttrackchange: 'onTextTrackChange',\n  textdata: 'onTextData',\n  useractive: 'onUserActive',\n  userinactive: 'onUserInactive',\n  usingcustomcontrols: 'onUsingCustomControls',\n  usingnativecontrols: 'onUsingNativeControls',\n  dispose: 'onDispose'\n} as const\n\nconst videoJsPluginEventsMap = {\n  beforepluginsetup: 'onBeforePluginSetup',\n  pluginsetup: 'onPluginSetup'\n  // pluginsetup:$name\n} as const\n\nconst videoJsComponentEventsMap = {\n  componentresize: 'onComponentResize',\n  playerresize: 'onPlayerResize',\n  ready: 'onReady',\n  tap: 'onTap'\n} as const\n\nexport const eventsMap = {\n  ...html5EventsMap,\n  ...videoJsEventsMap,\n  ...videoJsPluginEventsMap,\n  ...videoJsComponentEventsMap\n} as const\n\nexport type EventMap = typeof eventsMap\nexport type EventKey = keyof EventMap\nexport const events = Object.keys(eventsMap) as Array<EventKey>\n\nexport const camelCaseEvents = Object.values(eventsMap)\nexport type CamelCaseEventKey = typeof camelCaseEvents[number]\n","import videoJs, { VideoJsPlayerOptions } from 'video.js'\nimport { propsConfig, Props, PropKey } from './props'\nimport { events, EventKey } from './events'\nimport type { VideoJsPlayer } from './type'\n\n/**\n * Transform `string` className to `array`.\n * @link https://github.com/videojs/video.js/pull/7798\n * @link https://github.com/videojs/video.js/issues/7685\n * @description ```\n *  input: \" test-a    test-b   test-c  \"\n *  output: [\"test-a\", \"test-b\", \"test-c\"]\n * ```\n */\nconst standardizeClass = (className: string | void) => {\n  const trimmed = className?.trim().replace(/\\s+/g, ' ')\n  return trimmed ? trimmed.split(' ') ?? [] : []\n}\n\nexport interface CreatePlayerOptions {\n  props: Props\n  element: HTMLElement\n  className?: string\n  onEvent(eventName: EventKey, payload: Event): void\n}\n\nexport type PlayerResult = ReturnType<typeof createPlayer>\nexport const createPlayer = ({ props, element, className, onEvent }: CreatePlayerOptions) => {\n  // Exclude fallback options.\n  const { options: fallbackOptions = {}, ...optProps } = props\n\n  // Exclude undefined value.\n  const propOptions: Omit<Props, 'options'> = {}\n  const optPropKeys = Object.keys(optProps) as Array<keyof typeof optProps>\n  optPropKeys.forEach((key) => {\n    const value = optProps[key]\n    if (value !== undefined) {\n      // @ts-ignore\n      propOptions[key] = value\n    }\n  })\n\n  // Merge fallback options & exclude component options.\n  const { volume, playbackRate, ...initOptions } = {\n    ...propOptions,\n    ...fallbackOptions\n  }\n\n  // Merge some confusing prop names.\n  const videoJsOptions = {\n    ...initOptions,\n    // https://videojs.com/guides/options/#restoreel\n    // Since the dispose > restore element side effect of Video.js occurs after the component has been unmounted,\n    // a DOM retention error will occur if true, so it cannot be set to true.\n    // restoreEl: initOptions.restoreEl ?? false,\n    // Video.js only supports the `playsinline` property.\n    playsinline: initOptions.playsinline ?? initOptions.playsInline\n  }\n\n  // https://videojs.com/guides/embeds/\n  // https://videojs.com/guides/react/\n  // MARK: Player div ingest\n  // There are three ways to initialize a player, the \"Player div ingest\" type is the most suitable in a component scenario\n  // because it generates the least amount of DOM side effects,\n  // and this way it can fully utilize the existing div outer container and video elements without changing the DOM structure.\n  // The problem is that the Video.js player, when instantiated, reads the className property of the video element as the className of the outer container,\n  // but the component needs to satisfy the user's need to \"be able to use the className to specify the style from the moment the component is rendered\".\n  // So we need to assume that only the className specified by the user through the component is needed for style control,\n  // while the basic \"video-js\" - like className is another internal className with a specific side effect and used only for initializing the player.\n  // So we need to distinguish the className into innerClassName, which is controlled internally by the component and remains unchanged,\n  // and userClassName, which will be applied to the container element at times like init and change.\n  // The reason why userClassName cannot be used directly as className for video elements is that it may cause unintended style side effects,\n  // such as misalignment or recursive styles, due to the different DOM hierarchy.\n  // MARK: RawHTML\n  // A better solution may exist to create the player with a freshly created video element while maintaining a mounted identifier,\n  // and when the player is instantiated, return the instantiated DOM entirely through the component,\n  // but this relies on the framework supporting a RawHTML - like API - https://github.com/ reactjs/rfcs/pull/129\n  // Custom controls capabilities can be implemented through the Video.js Component - https://videojs.com/guides/react/\n  const player = videoJs(element, videoJsOptions, function () {\n    // Stringing video.js events to vue emits.\n    events.forEach((eventKey) => {\n      this.on(eventKey, (payload) => {\n        onEvent(eventKey, payload)\n      })\n    })\n\n    // init src\n    if (initOptions.src && !initOptions.sources) {\n      this.src(initOptions.src)\n    }\n\n    // init volume\n    if (volume && Number.isFinite(volume)) {\n      this.volume(volume)\n    }\n\n    // init playbackRate\n    // https://github.com/videojs/video.js/issues/5128\n    // https://github.com/videojs/video.js/issues/2516\n    // https://github.com/videojs/videojs-playlist/issues/158\n    // https://github.com/sampotts/plyr/blob/master/src/js/plyr.js#L677\n    // https://github.com/bytedance/xgplayer/blob/master/packages/xgplayer/src/skin/controls/playbackRate.js#L30\n    if (playbackRate && Number.isFinite(playbackRate)) {\n      // Video always reads defaultPlaybackRate as the initial playbackRate when switching video sources.\n      this.defaultPlaybackRate(playbackRate)\n      // Ensures that all synchronization code has been executed by the time playbackRate is executed.\n      setTimeout(() => {\n        this.playbackRate(playbackRate)\n      }, 0)\n    }\n  }) as VideoJsPlayer\n\n  // The component needs to be initialized with the initial className of the container element to\n  // avoid flickering of the style caused by applying the className after the player has been instantiated.\n  // There are two separate times when initClassName is consumed.\n  // 1. when the component is first rendered, before the player is instantiated,\n  // the className should act on the root container of the component's original element,\n  // which allows the user to control the style before the component is mounted.\n  // 2. Before the component is mounted, `addClass(initClassName)` should be applied to the player immediately after the player is created,\n  // as Video.js does not support such an option for className, so we have to do this,\n  // and currently the synchronization feature of the browser ensures that the user\n  // does not perceive the \"init(component) > remove(createPlayer) > add(player.addClass)\" replacement process for className.\n  if (className) {\n    standardizeClass(className).map((name) => player.addClass(name))\n  }\n\n  // Set new class names to Video.js container element.\n  const updateClassNames = (oldClassName: string | void, newClassName: string | void) => {\n    standardizeClass(oldClassName).map((name) => player.removeClass(name))\n    standardizeClass(newClassName).map((name) => player.addClass(name))\n  }\n\n  // Set new options to Video.js config.\n  const updateOptions = (options: VideoJsPlayerOptions) => {\n    player.options?.(options ?? {})\n  }\n\n  // Set new prop value to Video.js config.\n  const updatePropOption = <K extends PropKey>(key: K, value: Props[K]) => {\n    updateOptions({ [key]: value })\n    propsConfig[key]?.onChange?.(player, value as never)\n  }\n\n  const disposePlayer = () => player.dispose()\n\n  return {\n    player,\n    dispose: disposePlayer,\n    updateClassNames,\n    updateOptions,\n    updatePropOption\n  }\n}\n","import type { VideoJsPlayer as Player } from './type'\n\n// https://videojs.com/advanced/\n// https://github.com/videojs/videojs.com/blob/main/src/components/HomeComponents/AdvancedExample/mediaProperties.js\n// https://github.com/videojs/videojs.com/blob/main/src/components/HomeComponents/AdvancedExample/MediaPropertyItem.jsx\nconst StateConfig = {\n  // autoplay: { getter: (player: P) => player.autoplay() }, // ✘\n  // loop: { getter: (player: P) => player.loop() }, // ✘\n  // preload: { getter: (player: P) => player.preload() }, // ✘\n  // playsInline: { getter: (player: P) => player.playsinline() }, // ✘\n  // crossOrigin: { getter: (player: P) => player.crossOrigin() }, // ✘\n  src: {\n    getter: (player: Player) => player.src()\n  },\n  currentSrc: {\n    getter: (player: Player) => player.currentSrc()\n  },\n  currentSource: {\n    getter: (player: Player) => player.currentSource()\n  },\n  width: {\n    events: ['resize', 'playerresize'],\n    getter: (player: Player) => player.width()\n  },\n  height: {\n    events: ['resize', 'playerresize'],\n    getter: (player: Player) => player.height()\n  },\n  currentWidth: {\n    events: ['resize', 'playerresize'],\n    getter: (player: Player) => player.currentWidth()\n  },\n  currentHeight: {\n    events: ['resize', 'playerresize'],\n    getter: (player: Player) => player.currentHeight()\n  },\n  videoWidth: {\n    events: ['resize', 'playerresize'],\n    getter: (player: Player) => player.videoWidth()\n  },\n  videoHeight: {\n    events: ['resize', 'playerresize'],\n    getter: (player: Player) => player.videoHeight()\n  },\n  controls: {\n    events: ['controlsdisabled', 'controlsenabled'],\n    getter: (player: Player) => player.controls()\n  },\n  volume: {\n    events: ['volumechange'],\n    getter: (player: Player) => player.volume()\n  },\n  muted: {\n    events: ['volumechange'],\n    getter: (player: Player) => player.muted()\n  },\n  poster: {\n    events: ['posterchange'],\n    getter: (player: Player) => player.poster()\n  },\n  seeking: {\n    events: ['seeking'],\n    getter: (player: Player) => player.seeking()\n  },\n  paused: {\n    events: ['pause', 'play', 'playing'],\n    getter: (player: Player) => player.paused()\n  },\n  ended: {\n    events: ['ended', 'play'],\n    getter: (player: Player) => player.ended()\n  },\n  currentTime: {\n    events: ['timeupdate'],\n    getter: (player: Player) => player.currentTime()\n  },\n  duration: {\n    events: ['durationchange'],\n    getter: (player: Player) => player.duration()\n  },\n  playbackRate: {\n    events: ['ratechange'],\n    getter: (player: Player) => player.playbackRate()\n  },\n  playbackRates: {\n    events: ['playbackrateschange'],\n    getter: (player: Player) => player.playbackRates()\n  },\n  isFullscreen: {\n    events: ['fullscreenchange'],\n    getter: (player: Player) => player.isFullscreen()\n  },\n  isInPictureInPicture: {\n    events: ['enterpictureinpicture', 'leavepictureinpicture'],\n    getter: (player: Player) => player.isInPictureInPicture()\n  },\n  isLive: {\n    getter: (player: Player) => player.liveTracker?.isLive()\n  },\n  language: {\n    events: ['languagechange'],\n    getter: (player: Player) => player.language()\n  },\n  userActive: {\n    events: ['useractive', 'userinactive'],\n    getter: (player: Player) => player.userActive()\n  },\n  readyState: {\n    events: ['loadeddata'],\n    getter: (player: Player) => player.readyState()\n  },\n  networkState: {\n    events: ['loadeddata', 'error'],\n    getter: (player: Player) => player.networkState()\n  },\n  error: {\n    events: ['loadeddata', 'error'],\n    getter: (player: Player) => player.error()\n  },\n  buffered: {\n    events: ['progress'],\n    getter: (player: Player) => player.buffered()\n  },\n  bufferedPercent: {\n    events: ['progress'],\n    getter: (player: Player) => player.bufferedPercent()\n  },\n  played: {\n    events: ['timeupdate'],\n    getter: (player: Player) => player.played()\n  },\n  seekable: {\n    events: ['progress', 'seeked'],\n    getter: (player: Player) => player.seekable()\n  },\n  audioTracks: {\n    getter: (player: Player) => player.audioTracks?.()\n  },\n  videoTracks: {\n    getter: (player: any) => player.videoTracks?.()\n  },\n  textTracks: {\n    getter: (player: Player) => player.textTracks?.()\n  }\n}\n\ntype PlayerBastState = {\n  [K in keyof typeof StateConfig]: ReturnType<typeof StateConfig[K]['getter']>\n}\nexport interface PlayerState extends PlayerBastState {\n  playing: boolean\n  waiting: boolean\n}\n\nexport interface CreatePlayerStateOptions {\n  onInit: (state: PlayerState) => void\n  onUpdate: <K extends keyof PlayerState>(key: K, value: PlayerState[K], state: PlayerState) => void\n}\n\nexport const createPlayerState = (player: Player, options: CreatePlayerStateOptions) => {\n  const keys = Object.keys(StateConfig) as Array<keyof typeof StateConfig>\n  const state = keys.reduce(\n    (result, key) => ({ ...result, [key]: StateConfig[key].getter(player) }),\n    { playing: false, waiting: false } as PlayerState\n  )\n\n  // update state\n  const updateState = (key: keyof PlayerState, value: any) => {\n    state[key] = value as never\n    options.onUpdate(key, value, { ...state })\n  }\n\n  // playing state https://github.com/videojs/video.js/issues/181\n  // un-loop: play > playing > pause > ended\n  // loop: play > playing > [ended > restart] waiting > playing\n  player.on(['pause', 'ended'], () => {\n    updateState('playing', false)\n  })\n  player.on(['play', 'playing'], () => {\n    updateState('playing', true)\n  })\n\n  // https://github.com/videojs/video.js/blob/75ea699273d659593d95429d185865fb6e49cb93/src/js/player.js#L1743\n  player.on('waiting', () => {\n    updateState('waiting', true)\n    const timeWhenWaiting = player.currentTime()\n    const timeUpdateListener = () => {\n      if (timeWhenWaiting !== player.currentTime()) {\n        updateState('waiting', false)\n        player.off('timeupdate', timeUpdateListener)\n      }\n    }\n    player.on('timeupdate', timeUpdateListener)\n  })\n\n  keys.forEach((key) => {\n    const target = StateConfig[key]\n    const baseEvents = ['loadstart', 'loadedmetadata']\n    player.on(baseEvents.concat((target as any).events ?? []), () => {\n      updateState(key, target.getter(player))\n    })\n  })\n\n  // init state\n  options.onInit({ ...state })\n}\n","import type { PropsConfig, PropKey, EventKey, VideoJsPlayer } from '../../../player'\nimport { propsConfig, propKeys, events } from '../../../player'\n\nconst twoWayPropKeys = propKeys.filter((key) => Boolean(propsConfig[key].onEvent))\nconst getPropUpdateEventName = (key: PropKey) => `update:${key}`\n\n// Convert all supported Video.js configuration changes to two-way binding events.\nexport const bindPropUpdateEvent = (options: {\n  player: VideoJsPlayer\n  onEvent: (key: EventKey, value: any) => void\n}) => {\n  twoWayPropKeys.forEach((key) => {\n    propsConfig[key]?.onEvent?.(options.player, (newValue: unknown) => {\n      options.onEvent(getPropUpdateEventName(key) as EventKey, newValue)\n    })\n  })\n}\n\n// Add two-way binding events to all props that have onEvent.\n// The event type information is missing here, but it is necessary.\nexport const normalizedEvents = [\n  ...events,\n  ...twoWayPropKeys.map(getPropUpdateEventName)\n] as typeof events\n\n// Set the default value of all Boolean type's props to undefined.\n// https://vuejs.org/guide/components/props.html#boolean-casting\nexport const normalizedProps = propKeys.reduce((result, key) => {\n  const prop = propsConfig[key]\n  const types = Array.isArray(prop.type) ? prop.type : [prop.type]\n  const newProp = { ...prop }\n  if (types.includes(Boolean)) {\n    newProp.default = void 0\n  }\n\n  return { ...result, [key]: newProp }\n}, {} as PropsConfig)\n","import { defineComponent, onMounted, onBeforeUnmount, h, normalizeClass } from 'vue'\nimport { shallowRef, ref, computed, readonly, watch, toRaw, DeepReadonly, PropType } from 'vue'\nimport { createPlayer, createPlayerState, propKeys } from '../../../player'\nimport { PlayerState, PlayerResult } from '../../../player'\nimport { normalizedProps, normalizedEvents, bindPropUpdateEvent } from './helper'\n\nconst MOUNTED_EVENT_NAME = 'mounted'\nconst UNMOUNTED_EVENT_NAME = 'unmounted'\n\nexport default defineComponent({\n  name: 'VueVideoPlayer',\n  props: { ...normalizedProps, class: [String, Object, Array] as PropType<unknown> },\n  emits: [...normalizedEvents, MOUNTED_EVENT_NAME, UNMOUNTED_EVENT_NAME],\n  // https://github.com/vuejs/rfcs/pull/192\n  // https://github.com/vuejs/core/pull/2693\n  // slots: Object as () => { player: VideoJsPlayer; state: DeepReadonly<PlayerState> },\n  setup(props, context) {\n    const { class: initClassName, ...rawProps } = toRaw(props)\n    const mounted = shallowRef(false)\n    const videoElement = shallowRef<HTMLVideoElement | null>(null)\n    const playerResult = shallowRef<PlayerResult | null>(null)\n    const videoJsPlayer = computed(() => {\n      return playerResult.value ? playerResult.value.player : null\n    })\n\n    const state = ref<PlayerState | null>(null)\n    const readOnlyState = computed<DeepReadonly<PlayerState> | null>(() => {\n      return state.value ? readonly(state.value) : null\n    })\n\n    onMounted(() => {\n      // Create player.\n      const playerRes = createPlayer({\n        element: videoElement.value!,\n        props: rawProps,\n        onEvent: context.emit\n      })\n\n      // Sync Video.js config change to update:prop event.\n      bindPropUpdateEvent({\n        player: playerRes.player,\n        onEvent: context.emit\n      })\n\n      // Sync Vue class name to Video.js container.\n      watch(\n        () => props.class,\n        (newClassName, oldClassName) => {\n          const ocn = normalizeClass(oldClassName)\n          const ncn = normalizeClass(newClassName)\n          playerRes.updateClassNames(ocn, ncn)\n        },\n        { immediate: true }\n      )\n\n      // Sync fallback options to Video.js config.\n      watch(\n        () => props.options,\n        (newOptions) => playerRes.updateOptions(newOptions ?? {}),\n        { deep: true }\n      )\n\n      // Sync component props to Video.js config.\n      propKeys\n        .filter((key) => key !== 'options')\n        .forEach((key) => {\n          watch(\n            () => props[key],\n            (newValue) => playerRes.updatePropOption(key, newValue),\n            { deep: true }\n          )\n        })\n\n      // Create player state.\n      createPlayerState(playerRes.player, {\n        onInit(initState) {\n          state.value = initState\n        },\n        onUpdate(key, value) {\n          if (state.value) {\n            state.value[key] = value\n          }\n        }\n      })\n\n      // Emit mounted event.\n      playerResult.value = playerRes\n      mounted.value = true\n      context.emit(MOUNTED_EVENT_NAME, {\n        video: videoElement.value,\n        player: videoJsPlayer.value,\n        state: readOnlyState.value\n      })\n    })\n\n    onBeforeUnmount(() => {\n      if (playerResult.value) {\n        playerResult.value.dispose()\n        playerResult.value = null\n        state.value = null\n        context.emit(UNMOUNTED_EVENT_NAME)\n      }\n    })\n\n    return () => {\n      return h('div', { 'data-vjs-player': '', class: normalizeClass(initClassName) }, [\n        h('video', {\n          class: ['video-js', 'v-video-player'],\n          ref: videoElement\n        }),\n        mounted.value &&\n          context.slots.default?.({\n            video: videoElement.value!,\n            player: videoJsPlayer.value!,\n            state: readOnlyState.value!\n          })\n      ])\n    }\n  }\n})\n","import type { Plugin } from 'vue'\nimport Component from './component'\n\nexport type {\n  Props as VideoPlayerProps,\n  EventKey as VideoPlayerEvents,\n  PlayerState as VideoPlayerState\n} from '../../../player'\n\nexport const VideoPlayer = Component\nexport const install: Plugin = (app) => {\n  app.component('VideoPlayer', Component)\n  app.component(Component.name, Component)\n}\n\nexport default {\n  VideoPlayer: Component,\n  install\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}