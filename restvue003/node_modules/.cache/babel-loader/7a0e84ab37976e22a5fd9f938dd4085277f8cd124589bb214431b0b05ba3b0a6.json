{"ast":null,"code":"import axios from \"axios\";\nimport { ElMessage, ElMessageBox } from \"element-plus\";\nexport default {\n  name: \"NewDir\",\n  methods: {\n    NewDir() {\n      ElMessageBox.prompt(\"请输入文件名:\", \"新建文件夹\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        inputPattern: /^[a-zA-Z0-9_-]+$/,\n        inputErrorMessage: \"请输入文件名\"\n      }).then(({\n        value\n      }) => {\n        axios({\n          url: this.$store.state.api + \"/NewDir\",\n          method: \"get\",\n          params: {\n            NewDirName: value,\n            NewDirPath: this.$store.state.DirPath\n          }\n        }).then(async res => {\n          console.log(res.data.message);\n          if (res.data.message == \"文件夹创建成功\") {\n            console.log(res.data);\n            ElMessage({\n              type: \"success\",\n              message: `${res.data.message}:${value}`\n            });\n            await this.$store.dispatch(\"DirsFileList\");\n            await this.$store.dispatch(\"openDirs\");\n          }\n        }).catch(res => {\n          ElMessage({\n            type: \"error\",\n            message: `您创建的文件夹${value},${res.data}`\n          });\n        });\n      }).catch(() => {\n        ElMessage({\n          type: \"info\",\n          message: \"你取消新建文件夹\"\n        });\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","ElMessage","ElMessageBox","name","methods","NewDir","prompt","confirmButtonText","cancelButtonText","inputPattern","inputErrorMessage","then","value","url","$store","state","api","method","params","NewDirName","NewDirPath","DirPath","res","console","log","data","message","type","dispatch","catch"],"sources":["C:\\Users\\Admin\\Desktop\\codes\\restvue003\\src\\components\\NewDir.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <el-button @click=\"NewDir\">新建文件夹</el-button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport { ElMessage, ElMessageBox } from \"element-plus\";\r\nexport default {\r\n  name: \"NewDir\",\r\n  methods: {\r\n    NewDir() {\r\n      ElMessageBox.prompt(\"请输入文件名:\", \"新建文件夹\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        inputPattern: /^[a-zA-Z0-9_-]+$/,\r\n        inputErrorMessage: \"请输入文件名\",\r\n      })\r\n        .then(({ value }) => {\r\n          axios({\r\n            url: this.$store.state.api + \"/NewDir\",\r\n            method: \"get\",\r\n            params: {\r\n              NewDirName: value,\r\n              NewDirPath: this.$store.state.DirPath,\r\n            },\r\n          })\r\n            .then(async (res) => {\r\n              console.log(res.data.message);\r\n              if (res.data.message == \"文件夹创建成功\") {\r\n                console.log(res.data);\r\n\r\n                ElMessage({\r\n                  type: \"success\",\r\n                  message: `${res.data.message}:${value}`,\r\n                });\r\n                await this.$store.dispatch(\"DirsFileList\");\r\n                await this.$store.dispatch(\"openDirs\");\r\n              }\r\n            })\r\n            .catch((res) => {\r\n              ElMessage({\r\n                type: \"error\",\r\n                message: `您创建的文件夹${value},${res.data}`,\r\n              });\r\n            });\r\n        })\r\n        .catch(() => {\r\n          ElMessage({\r\n            type: \"info\",\r\n            message: \"你取消新建文件夹\",\r\n          });\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n"],"mappings":"AAOA,OAAOA,KAAI,MAAO,OAAO;AACzB,SAASC,SAAS,EAAEC,YAAW,QAAS,cAAc;AACtD,eAAe;EACbC,IAAI,EAAE,QAAQ;EACdC,OAAO,EAAE;IACPC,MAAMA,CAAA,EAAG;MACPH,YAAY,CAACI,MAAM,CAAC,SAAS,EAAE,OAAO,EAAE;QACtCC,iBAAiB,EAAE,IAAI;QACvBC,gBAAgB,EAAE,IAAI;QACtBC,YAAY,EAAE,kBAAkB;QAChCC,iBAAiB,EAAE;MACrB,CAAC,EACEC,IAAI,CAAC,CAAC;QAAEC;MAAM,CAAC,KAAK;QACnBZ,KAAK,CAAC;UACJa,GAAG,EAAE,IAAI,CAACC,MAAM,CAACC,KAAK,CAACC,GAAE,GAAI,SAAS;UACtCC,MAAM,EAAE,KAAK;UACbC,MAAM,EAAE;YACNC,UAAU,EAAEP,KAAK;YACjBQ,UAAU,EAAE,IAAI,CAACN,MAAM,CAACC,KAAK,CAACM;UAChC;QACF,CAAC,EACEV,IAAI,CAAC,MAAOW,GAAG,IAAK;UACnBC,OAAO,CAACC,GAAG,CAACF,GAAG,CAACG,IAAI,CAACC,OAAO,CAAC;UAC7B,IAAIJ,GAAG,CAACG,IAAI,CAACC,OAAM,IAAK,SAAS,EAAE;YACjCH,OAAO,CAACC,GAAG,CAACF,GAAG,CAACG,IAAI,CAAC;YAErBxB,SAAS,CAAC;cACR0B,IAAI,EAAE,SAAS;cACfD,OAAO,EAAG,GAAEJ,GAAG,CAACG,IAAI,CAACC,OAAQ,IAAGd,KAAM;YACxC,CAAC,CAAC;YACF,MAAM,IAAI,CAACE,MAAM,CAACc,QAAQ,CAAC,cAAc,CAAC;YAC1C,MAAM,IAAI,CAACd,MAAM,CAACc,QAAQ,CAAC,UAAU,CAAC;UACxC;QACF,CAAC,EACAC,KAAK,CAAEP,GAAG,IAAK;UACdrB,SAAS,CAAC;YACR0B,IAAI,EAAE,OAAO;YACbD,OAAO,EAAG,UAASd,KAAM,IAAGU,GAAG,CAACG,IAAK;UACvC,CAAC,CAAC;QACJ,CAAC,CAAC;MACN,CAAC,EACAI,KAAK,CAAC,MAAM;QACX5B,SAAS,CAAC;UACR0B,IAAI,EAAE,MAAM;UACZD,OAAO,EAAE;QACX,CAAC,CAAC;MACJ,CAAC,CAAC;IACN;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}