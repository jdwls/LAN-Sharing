{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: \"TopLevelDirectory\",\n  data() {\n    return {\n      isDisabled: false // 使用Vue的数据驱动控制按钮禁用状态\n    };\n  },\n  methods: {\n    async topleveldirectory() {\n      // 禁用按钮\n      let getDirs = await this.getDirs();\n      if (getDirs == this.$store.state.DirPath) {\n        this.isDisabled = true;\n        this.isDisabledTiem();\n      } else {\n        await this.TopLevelDirectory();\n      }\n    },\n    async getDirs() {\n      const response = await axios({\n        url: this.$store.state.api + '/getDirs',\n        method: 'get'\n      });\n      return response.data.data; // 返回数据\n    },\n    async isDisabledTiem() {\n      setTimeout(() => {\n        this.isDisabled = false;\n      }, 1000);\n    },\n    async TopLevelDirectory() {\n      await axios({\n        url: this.$store.state.api + '/TopLevelDirectory',\n        method: 'get',\n        params: {\n          'TopLevelDirectoryPathName': this.$store.state.DirPath\n        }\n      }).then(async res => {\n        if (res.data.type == '成功') {\n          this.$store.state.DirPath = await this.getDirs();\n          this.$store.dispatch('DirsFileList');\n          this.$store.dispatch('openDirs');\n          axios({\n            url: this.$store.state.api + \"/filesypess\",\n            method: \"get\",\n            params: {\n              'filesypessPath': this.$store.state.DirPath\n            }\n          }).then(res => {\n            this.$store.state.otherDirsType = res.data.data;\n            let h = Object.values(res.data.filesypessPathlistTypes);\n            for (let i = 0; i < h.length; i++) {\n              this.$store.state.DirsFileList[h[i].index].FileType = h[i].filesypessPathlistType;\n            }\n          });\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","isDisabled","methods","topleveldirectory","getDirs","$store","state","DirPath","isDisabledTiem","TopLevelDirectory","response","url","api","method","setTimeout","params","then","res","type","dispatch","otherDirsType","h","Object","values","filesypessPathlistTypes","i","length","DirsFileList","index","FileType","filesypessPathlistType"],"sources":["C:\\Users\\Admin\\Desktop\\LAN-Sharing-0.1.0\\restvue003\\src\\components\\TopLevelDirectory.vue"],"sourcesContent":["<template>\n    <div>\n        <el-button :class=\"{ disabled: isDisabled }\" @click=\"topleveldirectory\" class=\"tets\">\n            返回上级目录\n        </el-button>\n    </div>\n</template>\n\n<script defer>\nimport axios from 'axios';\n\nexport default {\n    name: \"TopLevelDirectory\",\n    data() {\n        return {\n            isDisabled: false, // 使用Vue的数据驱动控制按钮禁用状态\n        };\n    },\n    methods: {\n        async topleveldirectory() {\n             // 禁用按钮\n            let getDirs=await this.getDirs()\n            if(getDirs==this.$store.state.DirPath){\n                this.isDisabled = true;\n                this.isDisabledTiem()\n            }\n            else{\n                await this.TopLevelDirectory()\n            }\n        },\n         async getDirs(){\n            const response =\n            await axios({\n            url: this.$store.state.api + '/getDirs',\n            method: 'get',\n        });\n        return response.data.data; // 返回数据\n           }, \n        async isDisabledTiem(){\n            setTimeout(() => {\n                    this.isDisabled = false;\n                }, 1000);\n        },\n        async TopLevelDirectory(){\n        await axios({\n                url:this.$store.state.api +'/TopLevelDirectory',\n                method:'get',\n                params:{\n                    'TopLevelDirectoryPathName':this.$store.state.DirPath\n                }\n            }).then(async res=>{\n                if(res.data.type=='成功'){\n                    this.$store.state.DirPath=await this.getDirs()\n                    this.$store.dispatch('DirsFileList')\n                    this.$store.dispatch('openDirs')\n                    axios({\n                    url:this.$store.state.api+\"/filesypess\",\n                    method:\"get\",\n                    params:{\n                'filesypessPath':this.$store.state.DirPath\n            }\n        }).then(res=>{\n            this.$store.state.otherDirsType=res.data.data\n            let h=Object.values(res.data.filesypessPathlistTypes)\n            for(let i=0;i<h.length;i++){\n                this.$store.state.DirsFileList[h[i].index].FileType=h[i].filesypessPathlistType\n            }\n        })        \n                    \n                }\n                \n            })\n        }\n    }\n};\n</script>\n\n<style scoped>\n.disabled {\n    pointer-events: none;\n}\n</style>\n"],"mappings":"AASA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACXC,IAAI,EAAE,mBAAmB;EACzBC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,UAAU,EAAE,KAAK,CAAE;IACvB,CAAC;EACL,CAAC;EACDC,OAAO,EAAE;IACL,MAAMC,iBAAiBA,CAAA,EAAG;MACrB;MACD,IAAIC,OAAO,GAAC,MAAM,IAAI,CAACA,OAAO,CAAC;MAC/B,IAAGA,OAAO,IAAE,IAAI,CAACC,MAAM,CAACC,KAAK,CAACC,OAAO,EAAC;QAClC,IAAI,CAACN,UAAS,GAAI,IAAI;QACtB,IAAI,CAACO,cAAc,CAAC;MACxB,OACI;QACA,MAAM,IAAI,CAACC,iBAAiB,CAAC;MACjC;IACJ,CAAC;IACA,MAAML,OAAOA,CAAA,EAAE;MACZ,MAAMM,QAAO,GACb,MAAMZ,KAAK,CAAC;QACZa,GAAG,EAAE,IAAI,CAACN,MAAM,CAACC,KAAK,CAACM,GAAE,GAAI,UAAU;QACvCC,MAAM,EAAE;MACZ,CAAC,CAAC;MACF,OAAOH,QAAQ,CAACV,IAAI,CAACA,IAAI,EAAE;IACxB,CAAC;IACJ,MAAMQ,cAAcA,CAAA,EAAE;MAClBM,UAAU,CAAC,MAAM;QACT,IAAI,CAACb,UAAS,GAAI,KAAK;MAC3B,CAAC,EAAE,IAAI,CAAC;IAChB,CAAC;IACD,MAAMQ,iBAAiBA,CAAA,EAAE;MACzB,MAAMX,KAAK,CAAC;QACJa,GAAG,EAAC,IAAI,CAACN,MAAM,CAACC,KAAK,CAACM,GAAE,GAAG,oBAAoB;QAC/CC,MAAM,EAAC,KAAK;QACZE,MAAM,EAAC;UACH,2BAA2B,EAAC,IAAI,CAACV,MAAM,CAACC,KAAK,CAACC;QAClD;MACJ,CAAC,CAAC,CAACS,IAAI,CAAC,MAAMC,GAAG,IAAE;QACf,IAAGA,GAAG,CAACjB,IAAI,CAACkB,IAAI,IAAE,IAAI,EAAC;UACnB,IAAI,CAACb,MAAM,CAACC,KAAK,CAACC,OAAO,GAAC,MAAM,IAAI,CAACH,OAAO,CAAC;UAC7C,IAAI,CAACC,MAAM,CAACc,QAAQ,CAAC,cAAc;UACnC,IAAI,CAACd,MAAM,CAACc,QAAQ,CAAC,UAAU;UAC/BrB,KAAK,CAAC;YACNa,GAAG,EAAC,IAAI,CAACN,MAAM,CAACC,KAAK,CAACM,GAAG,GAAC,aAAa;YACvCC,MAAM,EAAC,KAAK;YACZE,MAAM,EAAC;cACX,gBAAgB,EAAC,IAAI,CAACV,MAAM,CAACC,KAAK,CAACC;YACvC;UACJ,CAAC,CAAC,CAACS,IAAI,CAACC,GAAG,IAAE;YACT,IAAI,CAACZ,MAAM,CAACC,KAAK,CAACc,aAAa,GAACH,GAAG,CAACjB,IAAI,CAACA,IAAG;YAC5C,IAAIqB,CAAC,GAACC,MAAM,CAACC,MAAM,CAACN,GAAG,CAACjB,IAAI,CAACwB,uBAAuB;YACpD,KAAI,IAAIC,CAAC,GAAC,CAAC,EAACA,CAAC,GAACJ,CAAC,CAACK,MAAM,EAACD,CAAC,EAAE,EAAC;cACvB,IAAI,CAACpB,MAAM,CAACC,KAAK,CAACqB,YAAY,CAACN,CAAC,CAACI,CAAC,CAAC,CAACG,KAAK,CAAC,CAACC,QAAQ,GAACR,CAAC,CAACI,CAAC,CAAC,CAACK,sBAAqB;YAClF;UACJ,CAAC;QAEO;MAEJ,CAAC;IACL;EACJ;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}