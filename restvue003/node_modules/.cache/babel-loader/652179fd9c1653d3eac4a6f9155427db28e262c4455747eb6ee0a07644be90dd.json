{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'dropFiles',\n  props: ['dropFiles'],\n  methods: {\n    dropFile(dropFiles) {\n      axios({\n        url: this.$store.state.api + '/dropFiles',\n        method: 'get',\n        params: {\n          'dropFilesName': this.$store.state.DirPath + '/' + dropFiles\n        }\n      }).then(res => {\n        if (res.data.type == '删除文件成功') {\n          axios({\n            url: this.$store.state.api + '/DirsFileList',\n            method: \"post\",\n            params: {\n              'DirsFileList': this.$store.state.DirPath\n            }\n          }).then(res => {\n            this.$store.state.DirsFileList = res.data.data;\n            for (let i = 0; i < this.$store.state.DirsFileList.length; i++) {\n              this.$store.state.DirsFileList[i] = {\n                'index': i,\n                'data': this.$store.state.DirsFileList[i],\n                \"FileType\": false\n              };\n            }\n          });\n        }\n        if (res.data.type == '删除文件夹成功') {\n          axios({\n            url: this.$store.state.api + '/' + 'DirsFileList',\n            method: \"post\",\n            params: {\n              'DirsFileList': 'no'\n            }\n          }).then(res => {\n            this.$store.state.DirsFileList = res.data.data;\n            for (let i = 0; i < this.$store.state.DirsFileList.length; i++) {\n              this.$store.state.DirsFileList[i] = {\n                'index': i,\n                'data': this.$store.state.DirsFileList[i],\n                \"FileType\": false\n              };\n            }\n          });\n          axios({\n            url: this.$store.state.api + \"/OpenDir\",\n            method: 'post'\n          }).then(res => {\n            let h = Object.values(res.data.su);\n            for (let i = 0; i < this.$store.state.DirsFileList.length; i++) {\n              for (let j = 0; j <= h.length; j++) {\n                if (this.$store.state.DirsFileList[i].data == h[j]) {\n                  this.$store.state.DirsFileList[i].FileType = '文件夹';\n                  break;\n                }\n              }\n            }\n          });\n          axios({\n            url: this.$store.state.api + \"/filesypess\",\n            method: \"get\",\n            params: {\n              'filesypessPath': this.$store.state.DirPath\n            }\n          }).then(res => {\n            this.$store.state.otherDirsType = res.data.data;\n            let h = Object.values(res.data.filesypessPathlistTypes);\n            for (let i = 0; i < h.length; i++) {\n              this.$store.state.DirsFileList[h[i].index].FileType = h[i].filesypessPathlistType;\n            }\n          });\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","name","props","methods","dropFile","dropFiles","url","$store","state","api","method","params","DirPath","then","res","data","type","DirsFileList","i","length","h","Object","values","su","j","FileType","otherDirsType","filesypessPathlistTypes","index","filesypessPathlistType"],"sources":["E:\\备份\\桌面\\git\\v0.1.0\\restvue003\\src\\components\\dropFiles.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <el-button @click=\"dropFile(dropFiles)\"> 删除文件</el-button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\n \r\nexport default{\r\n    name:'dropFiles',\r\n    props:['dropFiles'],\r\n    methods:{\r\n        dropFile(dropFiles){\r\n            axios({\r\n                url:this.$store.state.api+'/dropFiles',\r\n                method:'get',\r\n                params:{\r\n                    'dropFilesName':this.$store.state.DirPath+'/'+dropFiles\r\n                }\r\n                }).then(res=>{\r\n                    if(res.data.type=='删除文件成功'){\r\n                       axios({\r\n                        url:this.$store.state.api+'/DirsFileList',\r\n                        method:\"post\",\r\n                        params:{\r\n                            'DirsFileList':this.$store.state.DirPath\r\n                        },\r\n                       }).then(res=>{\r\n                        this.$store.state.DirsFileList=res.data.data\r\n                        for(let i=0;i<this.$store.state.DirsFileList.length;i++){\r\n                        this.$store.state.DirsFileList[i]={'index':i,'data':this.$store.state.DirsFileList[i],\"FileType\":false}\r\n                        }\r\n                       })\r\n                    }\r\n                    if(res.data.type=='删除文件夹成功'){\r\n                        axios({\r\n                                url:this.$store.state.api+'/'+'DirsFileList',\r\n                                method:\"post\",\r\n                                params:{\r\n                                    'DirsFileList':'no'\r\n                                }\r\n                            }).then(res=>{\r\n                                this.$store.state.DirsFileList=res.data.data\r\n                                for(let i=0;i<this.$store.state.DirsFileList.length;i++){\r\n                                this.$store.state.DirsFileList[i]={'index':i,'data':this.$store.state.DirsFileList[i],\"FileType\":false}\r\n        }\r\n        })\r\n        axios({\r\n                url:this.$store.state.api+\"/OpenDir\",\r\n                method:'post',\r\n            }).then(res=>{\r\n                let h=Object.values(res.data.su)\r\n                for(let i=0;i<this.$store.state.DirsFileList.length;i++){\r\n                    for(let j=0;j<=h.length;j++){\r\n                        if(this.$store.state.DirsFileList[i].data==h[j]){\r\n                            this.$store.state.DirsFileList[i].FileType='文件夹'\r\n                            break\r\n                        }\r\n                    }\r\n                }\r\n                    \r\n            })\r\n        \r\n                        axios({\r\n                    url:this.$store.state.api+\"/filesypess\",\r\n                    method:\"get\",\r\n                    params:{\r\n                'filesypessPath':this.$store.state.DirPath\r\n            }\r\n        }).then(res=>{\r\n            this.$store.state.otherDirsType=res.data.data\r\n            let h=Object.values(res.data.filesypessPathlistTypes)\r\n            for(let i=0;i<h.length;i++){\r\n                this.$store.state.DirsFileList[h[i].index].FileType=h[i].filesypessPathlistType\r\n            }\r\n        })\r\n                        }\r\n                       })\r\n                    }\r\n                    \r\n        \r\n}\r\n}\r\n</script>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}